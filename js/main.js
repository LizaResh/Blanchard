"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_toPropertyKey(n.key),n)}}function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var n=o.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".header__button"),t=document.querySelector(".header__form-hidden"),o=document.querySelector(".header__form-hidden-button"),n=document.querySelector(".header__form-hidden-button-2");e.addEventListener("click",(function(){e.classList.toggle("header__button--active"),t.classList.toggle("header__form-hidden--active"),o.classList.toggle("header__form-hidden-button--active")})),n.addEventListener("click",(function(){e.classList.remove("header__button--active"),t.classList.remove("header__form-hidden--active"),o.classList.remove("header__form-hidden-button--active")}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".js-scroll-link").forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("href").substring(1),o=document.getElementById(t).getBoundingClientRect().top;window.scrollBy({top:o,behavior:"smooth"})}))}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".header__burger"),t=document.querySelector(".nav"),o=t.querySelectorAll(".nav__item-link"),n=t.querySelector(".nav__burger");e.addEventListener("click",(function(){e.classList.toggle("burger--active"),t.classList.toggle("nav--active"),n.classList.toggle("nav__burger--active"),document.body.classList.toggle("stop-scroll")})),n.addEventListener("click",(function(){e.classList.remove("burger--active"),t.classList.remove("nav--active"),n.classList.remove("nav__burger--active"),document.body.classList.remove("stop-scroll")})),o.forEach((function(o){o.addEventListener("click",(function(){e.classList.remove("burger--active"),t.classList.remove("nav--active"),n.classList.remove("nav__burger--active"),document.body.classList.remove("stop-scroll")}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelector(".hero__container"),new Swiper(".swiper-hero",{slidesPerView:1,spaceBetween:10,speed:2e3,autoplay:{delay:2e3},effect:"fade",allowTouchMove:!1})})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".dropdown__simplebar").forEach((function(e){new SimpleBar(e,{autoHide:!1,scrollbarMaxSize:25})}));var e=document.querySelectorAll(".dropdown"),t="dropdown__active",o="btn__active",n=document.querySelectorAll(".header__dropdown-wrapper");n.forEach((function(i){i.addEventListener("click",(function(){var i=this,s=this.parentElement.querySelector(".dropdown");e.forEach((function(e){e!=s&&e.classList.remove(t)})),n.forEach((function(e){e!=i&&e.classList.remove(o)})),s.classList.toggle(t),this.classList.toggle(o)}))}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".gallery__select");new Choices(e,{searchEnabled:!1,itemSelectText:""})})),document.addEventListener("DOMContentLoaded",(function(){new Swiper(".swiper-gallery",{slidesPerView:1,slidesPerGroup:1,spaceBetween:28,direction:"horizontal",pagination:{el:".gallery__swiper-pagination",type:"fraction"},navigation:{nextEl:".gallery__swiper-button-next",prevEl:".gallery__swiper-button-prev"},breakpoints:{576:{slidesPerView:2,slidesPerGroup:2,spaceBetween:34},1024:{slidesPerView:2,slidesPerGroup:2,spaceBetween:34},1400:{slidesPerView:3,slidesPerGroup:3,spaceBetween:50}},a11y:!1,keyboard:{enabled:!0,onlyInViewport:!0},watchSlidesProgress:!0,watchSlidesVisibility:!0,slideVisibleClass:"slide-visible",on:{init:function(){this.slides.forEach((function(e){e.classList.contains("slide-visible")?e.tabIndex="":e.tabIndex="-1"}))},slideChange:function(){this.slides.forEach((function(e){e.classList.contains("slide-visible")?e.tabIndex="":e.tabIndex="-1"}))}}})})),new Accordion(".accordion-list",{elementClass:"accordion",triggerClass:"accordion__visible",panelClass:"accordion__hidden",activeClass:"accordion--active"});for(var content=document.querySelectorAll(".catalog__content"),hidden_btn=document.querySelectorAll(".accordion__hidden-button"),_loop=function(e){hidden_btn[e].addEventListener("click",(function(){for(var t=0;t<hidden_btn.length;t++)hidden_btn[t].classList.remove("accordion__hidden-button--active");hidden_btn[e].classList.add("accordion__hidden-button--active");for(var o=0;o<content.length;o++)content[o].classList.remove("catalog__content--active");hidden_btn[11].classList.contains("accordion__hidden-button--active")?content[1].classList.add("catalog__content--active"):content[0].classList.add("catalog__content--active")}))},i=0;i<hidden_btn.length;i++)_loop(i);document.addEventListener("DOMContentLoaded",(function(){new(function(){function e(t){_classCallCheck(this,e);this.options=Object.assign({isOpen:function(){},isClose:function(){}},t),this.modal=document.querySelector(".modal"),this.speed=!1,this.animation=!1,this.isOpen=!1,this.modalContainer=!1,this.previousActiveElement=!1,this.fixBlocks=document.querySelectorAll(".fix-block"),this.focusElements=["a[href]","input","button","select","textarea","[tabindex]"],this.events()}return _createClass(e,[{key:"events",value:function(){this.modal&&(document.addEventListener("click",function(e){var t=e.target.closest("[data-path]");if(t){var o=t.dataset.path,n=t.dataset.animation,i=t.dataset.speed;return this.animation=n||"fade",this.speed=i?parseInt(i):300,this.modalContainer=document.querySelector('[data-target = "'.concat(o,'"]')),void this.open()}e.target.closest(".modal__close")&&this.close()}.bind(this)),window.addEventListener("keydown",function(e){27==e.keyCode&&this.isOpen&&this.close(),9==e.keyCode&&this.isOpen&&this.focusCatch(e)}.bind(this)),this.modal.addEventListener("click",function(e){e.target.classList.contains("modal__container")||e.target.closest(".modal__container")||!this.isOpen||this.close()}.bind(this)))}},{key:"open",value:function(){var e=this;this.previousActiveElement=document.activeElement,this.modal.classList.add("is-open"),this.disableScroll(),this.modalContainer.classList.add("modal-open"),this.modalContainer.classList.add(this.animation),setTimeout((function(){e.modalContainer.classList.add("animate-open"),e.options.isOpen(e),e.isOpen=!0,e.focusTrap()}),this.speed)}},{key:"close",value:function(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("modal-open"),this.enableScroll(),this.options.isClose(this),this.isOpen=!1,this.focusTrap())}},{key:"focusCatch",value:function(e){var t=this.modalContainer.querySelectorAll(this.focusElements),o=Array.prototype.slice.call(t),n=o.indexOf(document.activeElement);e.shiftKey&&0===n&&(o[o.length-1].focus(),e.preventDefault()),e.shiftKey||n!==o.length-1||(o[0].focus(),e.preventDefault())}},{key:"focusTrap",value:function(){var e=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen&&(e?e[0].focus():this.previousActiveElement.focus())}},{key:"disableScroll",value:function(){var e=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=e,document.body.style.top=-e+"px"}},{key:"enableScroll",value:function(){var e=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scroll({top:e,left:0}),document.body.removeAttribute("data-position")}},{key:"lockPadding",value:function(){var e=window.innerWidth-document.body.offsetWidth+"px";this.fixBlocks.forEach((function(t){t.style.paddingRight=e})),document.body.style.paddingRight=e}},{key:"unlockPadding",value:function(){this.fixBlocks.forEach((function(e){e.style.paddingRight="0px"})),document.body.style.paddingRight="0px"}}]),e}())({isopen:function(){}})})),document.addEventListener("DOMContentLoaded",(function(){tippy("[data-tippy-content]")})),document.addEventListener("DOMContentLoaded",(function(){new Swiper(".swiper-events",{slidesPerView:1,slidesPerGroup:1,spaceBetween:28,direction:"horizontal",pagination:{el:".events__swiper-pagination",clickable:!0},navigation:{nextEl:".events__swiper-button-next",prevEl:".events__swiper-button-prev"},breakpoints:{670:{slidesPerView:2,slidesPerGroup:2,spaceBetween:34},1024:{slidesPerView:3,slidesPerGroup:2,spaceBetween:27},1400:{slidesPerView:3,slidesPerGroup:2,spaceBetween:50}}})})),document.addEventListener("DOMContentLoaded",(function(){for(var e=document.querySelectorAll(".projects__paragraph-svg"),t=document.querySelectorAll(".projects__paragraph-span"),o=function(o){e[o].addEventListener("click",(function(){t[o].classList.add("projects__paragraph-span--active")})),e[o].addEventListener("focus",(function(){t[o].classList.add("projects__paragraph-span--active")})),e[o].addEventListener("blur",(function(){t[o].classList.remove("projects__paragraph-span--active")}))},n=0;n<e.length;n++)o(n)})),document.addEventListener("DOMContentLoaded",(function(){new Swiper(".swiper-projects",{slidesPerView:1,slidesPerGroup:1,spaceBetween:28,autoHeight:!0,direction:"horizontal",loop:!0,navigation:{nextEl:".projects__swiper-button-next",prevEl:".projects__swiper-button-prev"},breakpoints:{450:{slidesPerView:1,slidesPerGroup:1,spaceBetween:34},768:{slidesPerView:2,slidesPerGroup:1,spaceBetween:24},1024:{slidesPerView:2,slidesPerGroup:1,spaceBetween:40},1400:{slidesPerView:3,slidesPerGroup:3}}})})),document.addEventListener("DOMContentLoaded",(function(){ymaps.ready((function(){document.querySelector("#map");var e=new ymaps.Map("map",{center:[55.76033534577601,37.6057924],zoom:14,controls:["geolocationControl","zoomControl"]},{suppressMapOpenBlock:!0,geolocationControlSize:"large",geolocationControlPosition:{top:"300px",right:"20px"},geolocationControlFloat:"none",zoomControlSize:"small",zoomControlFloat:"none",zoomControlPosition:{top:"200px",right:"20px"}});window.matchMedia("(max-width: 1280px)").matches&&Object.keys(e.controls._controlKeys).length&&(e.controls.remove("zoomControl"),e.controls.remove("geolocationControl"));e.behaviors.disable("scrollZoom"),e.events.add("sizechange",(function(t){window.matchMedia("(max-width: 1280px)").matches?Object.keys(e.controls._controlKeys).length&&(e.controls.remove("zoomControl"),e.controls.remove("geolocationControl")):Object.keys(e.controls._controlKeys).length||(e.controls.add("zoomControl"),e.controls.add("geolocationControl"))}));var t=new ymaps.Placemark([55.75849,37.61367],{},{iconLayout:"default#image",iconImageHref:"img/location.svg",iconImageSize:[20,20]});e.geoObjects.add(t),e.container.fitToViewport()}))})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("input[type='tel']");new Inputmask("+7 (999) 999-99-99").mask(e),new JustValidate(".form__form",{rules:{name:{required:!0,minLength:3,maxLength:20},tel:{required:!0,function:function(t,o){var n=e.inputmask.unmaskedvalue();return Number(n)&&10===n.length}},mail:{required:!0,email:!0}},messages:{name:{required:"Вы не ввели имя",minLength:"Имя должно состоять минимум из 3 символов!",maxLength:"Имя не может содержать больше 20 символов!"},tel:{required:"Вы не ввели телефон",function:"Номер должен состоять из 10 цифр!"}}})}));